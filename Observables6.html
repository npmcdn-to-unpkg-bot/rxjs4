<html>
 <head>
  <meta charset="utf-8">
  <title>Working with Observables</title>
 </head>

 <body>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/rxjs/4.1.0/rx.all.js">
  </script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/rxjs/4.1.0/rx.js">
  </script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/rxjs/4.1.0/rx.async.js">
  </script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/rxjs/4.1.0/rx.coincidence.js">
  </script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/rxjs/4.1.0/rx.binding.js">
  </script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/rxjs/4.1.0/rx.time.js">
  </script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/rxjs-dom/2.0.7/rx.dom.js">
  </script>
<!--
  <script
   src="https://cdnjs.cloudflare.com/ajax/libs/rxjs-jquery/1.1.6/rx.jquery.js">
  </script>
  <script
   src="https://cdnjs.cloudflare.com/ajax/libs/rxjs-jquery/1.1.6/rx.jquery.node.js>
  </script>
-->
  <script src="http://code.jquery.com/jquery-latest.js"></script>

  <script>
// https://gist.github.com/staltz/868e7e9bc2a7b8c1f754
// http://reactivex.io/documentation/operators/just.html 
// http://reactivex.io/documentation/operators.html#creating

/*
    //---------------------------------------------------
    console.log("Sample #3: Observables with 'empty'"); 
    var source = Rx.Observable.empty()
                   .isEmpty();
 
    var subscription = source.subscribe(
       function (x) {
           console.log('Next: ' + x);
       },
       function (err) {
           console.log('Error: ' + err);   
       },
       function () {
           console.log('Completed');   
    });
    //---------------------------------------------------

    //---------------------------------------------------
    console.log("Sample #3: Observables with 'some'"); 
    var source = Rx.Observable.from([1,2,3,4,5])
                   .filter(x => x % 2 === 0);
    
    var subscription = source.subscribe(
        function (x) {
            console.log('Some Next: ' + x);
        },
        function (err) {
            console.log('Some Error: ' + err);   
        },
        function () {
            console.log('Some Completed');   
    });
    //---------------------------------------------------
*/

/*
    //---------------------------------------------------
  //console.log("Sample #3: average value"); 
  //var source = Rx.Observable.range(0, 9).average();
  //var source = Rx.Observable.range(0, 9).max();
  //var source = Rx.Observable.range(0, 9).min();

    var subscription = source.subscribe(
       function (x) {
           console.log('Average Next: ' + x);
       },
       function (err) {
           console.log('Average Error: ' + err);   
       },
       function () {
           console.log('Average Completed');   
    });
    //---------------------------------------------------
*/

    //---------------------------------------------------
    console.log("Sample #3: Observables and 'combineLatest'"); 
    // Observable is applicative functor => 
    var combined = 
      Rx.Observable.combineLatest(Rx.Observable.of(x => x * 10, x => x * 20), 
                                  Rx.Observable.of(10, 20, 30), (f, v) => f(v));
    combined.subscribe(x => console.log('combined x = '+x));
    //---------------------------------------------------
  </script>
 </body>
</html>

